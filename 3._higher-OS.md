## 고등 운영체제 인터럽트 기반 운영체제

- 현대 운영체제는 인터럽트 기반 시스템이다.

### 1. 다중 프로세서 시스템(Multi processor OS)

- 병렬(parallel), 강결합(tightly) 시스템 : 하나의 메모리에 cpu가 여러개 붙어 있는 형태
  cpu가 여러개 있으면 좋은 점

  1. cpu가 많아서 더 많은 계산이 가능하다. - 성능향상
  2. 비용이 저렴하다. -> 하나의 강한 cpu를 두는 것보다 가격이 저렴한 cpu를 여러개 두는 것이 비용면에서 좋음.
  3. 하나의 cpu가 고장나더라도 다른 cpu가 여전히 동작하기 때문에 신뢰적이다.

- 단일 운영체제가 여러 processor를 관리하는 것과 OS가 다르다.

### 2. 분산 시스템( Distributed OS)

- 다중 컴퓨터 시스템 (multi-computer system)이라고도 함
- 소결합 시스템 : 하나의 LAN 상에 느슨하게 여러개의 cpu와 메모리가 연결되어 있는 상태

- 다중 프로세서 시스템과 분산 시스템은 구현 방식이 다른 것일뿐 목적은 같다.

### 3. 실시간 시스템 (Real- time OS)

- 위의 두개와 목적이 다른 것
- 어떤 시간 내에 반드시 끝나야 하는 시스템
- 효율성을 따진다기 보다 시간의 제약 안에 반드시 완료해야하는 시스템
  -> 시간 안에 끝나지 않으면 실패한 시스템이라고 본다. (정해진 시간 내에 계산을 해야 의미가 있다.)

ex. 자동차 네비게이션 - 교차로에 섰을 때 가야하는 방향을 알려줄 때

### 4. 인터럽트 기반 시스템

#### 부팅이 끝나면?

운영체제는 메모리에 상주(RAM)하며 사건을 기다린다.(대기하는 상태)
ex. 화면에는 아이콘들이 나타나고 마우스 커서는 깜빡거리는 상태
마우스를 클릭하면 마우스가 cpu 내의 interrupt 선으로 전기 신호가 가게 된다. -> cpu가 하던 일을 중지하고 OS 안에 마우스의 전기신호가 왔을 때 해야되는 일(ISR)을 실행한다.

#### 어떻게?

클릭된 좌표를 찾아서 해당되는 프로그램을 하드디스크에서 메모리(RAM)로 가져온다.

=> 전기 신호가 interrupt를 통해 운영체제 내의 코드를 실행시킨다는 것이 중요!

#### interrupt의 종류

1. 하드웨어 인터럽트 (hardware interrupt)
   **인터럽트 결과**(마우스 클릭 -> 전기신호) **운영체제 내의 특정코드(double click 시 주어진 명령)를 실행**한다. (Interrupt Service Routine, ISR) ISR 종료 후 다시 대기

2. 소프트웨어 인터럽트 (Software interrupt)

- **특정 명령어**를 실행하면 interrupt가 실행되는 것이 있다.
  ex. int(interrupt) 명령어

- OS의 코드가 하드디스크 안에 있는 내용을 읽어옴
  사용자 프로그램이 실행되면서 소프트웨어 인터럽트(운영체제 서비스 이용 위해)
  인터럽트 결과 OS 내의 특정 코드(ISR) 실행
  ISR 종료 후 다시 사용자 프로그램으로

3. 내부 인터럽트 (Internal interrupt)

- 어떤 코드를 짰을 때 **저장할 수 없는(무한대의 값) 값**이 있을 때 interrupt가 실행되었다고 생각하고 divided by zero(ISR)를 처리하는 interrupt 시스템이 강제로 프로그램을 종료하도록 한다.

정리

- 운영체제는 평소에는 대기 상태이며, 하드웨어, 소프트웨어, 내부 인터럽트에 의해서 ISR을 실행한다.
- ISR이 종료되면 원래의 대기상태 또는 사용자 프로그램으로 복귀한다.
